package se.qxx.fiatlux.server;

import org.apache.commons.lang3.StringUtils;

public class Arguments {
	private boolean success = false;
	private int port = 2151;
	private static Arguments _instance = null;
	
	private Arguments() {
		
	}
	
	public static void initialize(String commandargs[]) {
		Arguments.get().setup(commandargs);
	}
	
	private void setup(String commandargs[]) {
		if (commandargs.length > 0) {
			_instance.setSuccess(false);
		}
		else if (!StringUtils.isNumeric(commandargs[0])) {
			_instance.setSuccess(false);
		}
		else {
			_instance.setPort(Integer.parseInt(commandargs[0]));
			_instance.setSuccess(true);
		}		
	}
	
	public static Arguments get() {
		if (_instance == null)
			_instance = new Arguments();
		
		return _instance;
	}

	public boolean isSuccess() {
		return success;
	}

	private void setSuccess(boolean success) {
		this.success = success;
	}

	public int getPort() {
		return port;
	}

	private void setPort(int port) {
		this.port = port;
	}
}
